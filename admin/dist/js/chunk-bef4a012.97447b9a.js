(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bef4a012"],{"502e":function(t,e,a){"use strict";var n=a("2b0e");e["a"]=n["default"].mixin({data:function(){return{API_URL:"https://api.renting.com.uy"}},methods:{parseGQLErrors:function(t){var e;return t.graphQLErrors&&(e=t.graphQLErrors[0]?t.graphQLErrors[0].message:null),t.networkError&&!e&&(e=t.networkError.result.errors[0]?t.networkError.result.errors[0].message:null),t.message&&!e&&(e=t.message),e||(e="Ha ocurrido un error"),this.$toast.error(e),e}}})},"6b2f":function(t,e,a){},"857a":function(t,e,a){var n=a("1d80"),r=/"/g;t.exports=function(t,e,a,i){var o=String(n(t)),s="<"+e;return""!==a&&(s+=" "+a+'="'+String(i).replace(r,"&quot;")+'"'),s+">"+o+"</"+e+">"}},9911:function(t,e,a){"use strict";var n=a("23e7"),r=a("857a"),i=a("af03");n({target:"String",proto:!0,forced:i("link")},{link:function(t){return r(this,"a","href",t)}})},"9a08":function(t,e,a){"use strict";a.r(e);var n,r,i,o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",{attrs:{loading:t.loading,pageTitle:t.title},scopedSlots:t._u([{key:"breadcrumb",fn:function(){return[a("Breadcrumb")]},proxy:!0},{key:"cta",fn:function(){},proxy:!0}])},[a("div",{staticClass:"main-container"},[a("div",{staticClass:"card mt-2"},[a("div",{staticClass:"card-body"},[a("FormulateForm",{ref:"form",on:{submit:t.save},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[a("FormulateInput",{attrs:{label:"Imagen",name:"image",type:"file",accept:"images",listStyle:"thumb",displayBlock:!0,"validation-name":"Imagen",validation:"required",help:"La imagen debe ser de 664px x 900px"}}),a("FormulateInput",{attrs:{label:"Titulo",name:"title","validation-name":"Título",validation:"required",help:"Negrita: *text* - Italica _text_"}}),a("FormulateInput",{attrs:{label:"Descripción",name:"description",type:"textarea"}}),a("FormulateInput",{attrs:{label:"Link",type:"url",name:"link","validation-name":"Link",help:"http://"}}),a("div",{staticClass:"d-flex justify-content-between mt-4"},[a("FormulateInput",{attrs:{type:"button","data-ghost":""},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Cancelar")]),t.saving?a("FormulateInput",{attrs:{type:"button",disabled:""}},[t._v("Guardando "),a("span",{staticClass:"loader"})]):a("FormulateInput",{attrs:{type:"submit",label:t.title}})],1)],1)],1)])])])},s=[],u=a("5530"),l=a("8785"),c=(a("a4d3"),a("e01a"),a("9911"),a("9530")),d=a.n(c),f=a("502e"),m=a("a0c5"),p=a("d357"),h={name:"MainSliderForm",components:{Breadcrumb:p["a"]},mixins:[f["a"],m["a"]],data:function(){return{title:"Crear slide",action:"create",loading:!1,workshops:[],form:{title:null,link:null,image:null}}},beforeMount:function(){this.$route.params.id&&(this.title="Editar slide",this.action="update",this.load())},methods:{save:function(){if(!this.saving){this.saving=!0;var t={image:this.form.image.id||null,title:this.form.title,description:this.form.description,link:this.form.link};"create"==this.action&&this.create(t),"update"==this.action&&this.update(t)}},create:function(t){var e=this;this.$apollo.mutate({mutation:d()(n||(n=Object(l["a"])(["\n\t\t\t\t\t\tmutation($data: MainSliderInput!) {\n\t\t\t\t\t\t\tmainSliderCreate(data: $data) {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t"]))),variables:{data:t}}).then((function(){e.$toast.success("Slide creado correctamente"),e.$router.go(-1),e.saving=!1})).catch((function(t){e.parseGQLErrors(t),e.saving=!1}))},update:function(t){var e=this;this.$apollo.mutate({mutation:d()(r||(r=Object(l["a"])(["\n\t\t\t\t\t\tmutation($id: ID!, $data: MainSliderInput!) {\n\t\t\t\t\t\t\tmainSliderUpdate(id: $id, data: $data) {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t"]))),variables:{id:this.$route.params.id,data:t}}).then((function(){e.$toast.success("Slide editado correctamente"),e.$router.go(-1),e.saving=!1})).catch((function(t){e.errors=e.parseGQLErrors(t),e.saving=!1}))},load:function(){var t=this;this.$apollo.query({query:d()(i||(i=Object(l["a"])(["\n\t\t\t\t\t\tquery($id: ID!) {\n\t\t\t\t\t\t\tmainSlider(id: $id) {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\tlink\n\t\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t\t\timage {\n\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\ttype\n\t\t\t\t\t\t\t\t\tfilename\n\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t\turlThumb\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t"]))),variables:{id:this.$route.params.id},fetchPolicy:"network-only"}).then((function(e){var a=e.data;t.form=Object(u["a"])({},a.mainSlider),t.loading=!1})).catch((function(e){t.$toast.success("El item que desea editar no existe"),t.$router.go(-1)}))}}},b=h,v=a("2877"),g=Object(v["a"])(b,o,s,!1,null,null,null);e["default"]=g.exports},a0c5:function(t,e,a){"use strict";a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");var n=a("06c5");function r(t,e){var a="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=Object(n["a"])(t))||e&&t&&"number"===typeof t.length){a&&(t=a);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==a["return"]||a["return"]()}finally{if(u)throw o}}}}a("b0c0");var i=a("2b0e");e["a"]=i["default"].mixin({data:function(){return{saving:!1}},methods:{covertArrayToSelectableObject:function(t){var e,a=[],n=r(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;a.push({value:i.id,label:i.name})}}catch(o){n.e(o)}finally{n.f()}return a}}})},af03:function(t,e,a){var n=a("d039");t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},d357:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fragment",[a("router-link",{staticClass:"breadcrumb-item",attrs:{tag:"li",to:"/"}},[a("i",{staticClass:"icon icon-home-1"})])],1)},r=[],i=(a("3f08"),{}),o=i,s=(a("f7ac"),a("2877")),u=Object(s["a"])(o,n,r,!1,null,"5f4a3668",null);e["a"]=u.exports},f7ac:function(t,e,a){"use strict";a("6b2f")}}]);
//# sourceMappingURL=chunk-bef4a012.97447b9a.js.map