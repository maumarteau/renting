{"version":3,"sources":["webpack:///./src/views/sections/SectionForm.vue?527a","webpack:///./src/views/sections/SectionForm.vue?3d18","webpack:///src/views/sections/SectionForm.vue","webpack:///./src/views/sections/SectionForm.vue?dd7a","webpack:///./src/views/sections/SectionForm.vue","webpack:///./src/mixins/mixins.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/modules/es.string.link.js","webpack:///./node_modules/core-js/internals/string-html-forced.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","loading","title","scopedSlots","_u","key","fn","proxy","staticClass","ref","on","save","model","value","callback","$$v","form","expression","checkSlug","fullSection","directives","name","rawName","$set","$event","$router","go","_v","staticRenderFns","component","Vue","mixin","data","API_URL","process","methods","parseGQLErrors","error","errorMessage","graphQLErrors","message","networkError","result","errors","$toast","requireObjectCoercible","quot","module","exports","string","tag","attribute","S","String","p1","replace","$","createHTML","forcedStringHTMLMethod","target","proto","forced","link","url","fails","METHOD_NAME","test","toLowerCase","split","length"],"mappings":"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","file":"js/chunk-700cc8b4.fcb27f9e.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionForm.vue?vue&type=style&index=0&id=54c8120f&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',{attrs:{\"loading\":_vm.loading,\"pageTitle\":_vm.title},scopedSlots:_vm._u([{key:\"cta\",fn:function(){return undefined},proxy:true}])},[_c('div',{staticClass:\"main-container container\"},[_c('div',{staticClass:\"card mt-2\"},[_c('div',{staticClass:\"card-body\"},[_c('FormulateForm',{ref:\"form\",on:{\"submit\":_vm.save},model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-md-3 \"},[_c('FormulateInput',{attrs:{\"label\":\"Imagen\",\"name\":\"image\",\"type\":\"file\",\"listStyle\":\"thumb\",\"accept\":\"images\",\"validation-name\":\"Imagen de portada\",\"help\":\"La imagen debe ser de 752px x 348px\"}})],1),_c('div',{staticClass:\"col-12 col-md-9 \"},[_c('FormulateInput',{attrs:{\"label\":\"Titulo del artículo\",\"name\":\"title\",\"validation-name\":\"Título\",\"validation\":\"required\"}}),_c('FormulateInput',{attrs:{\"type\":\"slug\",\"name\":\"slug\",\"label\":\"Slug\",\"placeholder\":\"Slug\",\"help\":\"Url a la página\",\"validation\":\"required|checkSlug\",\"validation-rules\":{\n\t\t\t\t\t\t\t\t\tcheckSlug: _vm.checkSlug,\n\t\t\t\t\t\t\t\t},\"validation-messages\":{\n\t\t\t\t\t\t\t\t\tcheckSlug:\n\t\t\t\t\t\t\t\t\t\t'Ya existe el slug ingresado',\n\t\t\t\t\t\t\t\t}}}),_c('FormulateInput',{attrs:{\"name\":\"featured\",\"type\":\"checkbox\",\"label\":\"Página destacada\",\"help\":\"Las páginas destacadas serán mostradas en el home de la web\"}})],1)]),_c('div',{staticClass:\"mt-3\"},[_c('FormulateInput',{attrs:{\"type\":\"wysiwyg\",\"name\":\"intro\",\"height\":\"200px\",\"label\":\"Introducción\",\"showMenuBar\":false}})],1),_c('div',{staticClass:\"mt-3\"},[_c('FormulateInput',{attrs:{\"type\":\"checkbox\",\"label\":\"Redireccionar a otra sección?\",\"help\":\"Si redirecciona a otra sección debe ingresar el link, de lo contrario, ingrese el contenido a mostrar\"},model:{value:(_vm.fullSection),callback:function ($$v) {_vm.fullSection=$$v},expression:\"fullSection\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fullSection),expression:\"fullSection\"}],staticClass:\"mt-3\"},[_c('FormulateInput',{attrs:{\"label\":\"Link\"},model:{value:(_vm.form.link),callback:function ($$v) {_vm.$set(_vm.form, \"link\", $$v)},expression:\"form.link\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.fullSection),expression:\"!fullSection\"}],staticClass:\"mt-3\"},[_c('FormulateInput',{attrs:{\"type\":\"wysiwyg\",\"name\":\"body\",\"label\":\"Contenido\",\"showMenuBar\":true}})],1),_c('div',{staticClass:\"d-flex justify-content-between mt-3\"},[_c('div',{staticClass:\"btn btn-outline-secondary\",on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\" Cancelar \")]),_c('FormulateInput',{attrs:{\"type\":\"submit\",\"label\":_vm.title}})],1)])],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<Layout :loading=\"loading\" :pageTitle=\"title\">\r\n\t\t<template #cta>\r\n\t\t\t<!-- <div @click=\"save\" class=\"btn btn-success\">Crear</div> -->\r\n\t\t</template>\r\n\t\t<div class=\"main-container container\">\r\n\t\t\t<div class=\"card mt-2\">\r\n\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t<FormulateForm v-model=\"form\" ref=\"form\" @submit=\"save\">\r\n\t\t\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t\t\t<div class=\"col-12 col-md-3 \">\r\n\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\tlabel=\"Imagen\"\r\n\t\t\t\t\t\t\t\t\tname=\"image\"\r\n\t\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\t\tlistStyle=\"thumb\"\r\n\t\t\t\t\t\t\t\t\taccept=\"images\"\r\n\t\t\t\t\t\t\t\t\tvalidation-name=\"Imagen de portada\"\r\n\t\t\t\t\t\t\t\t\t:help=\"\r\n\t\t\t\t\t\t\t\t\t\t`La imagen debe ser de 752px x 348px`\r\n\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"col-12 col-md-9 \">\r\n\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\tlabel=\"Titulo del artículo\"\r\n\t\t\t\t\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\t\t\t\t\tvalidation-name=\"Título\"\r\n\t\t\t\t\t\t\t\t\tvalidation=\"required\"\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\ttype=\"slug\"\r\n\t\t\t\t\t\t\t\t\tname=\"slug\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Slug\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Slug\"\r\n\t\t\t\t\t\t\t\t\thelp=\"Url a la página\"\r\n\t\t\t\t\t\t\t\t\tvalidation=\"required|checkSlug\"\r\n\t\t\t\t\t\t\t\t\t:validation-rules=\"{\r\n\t\t\t\t\t\t\t\t\t\tcheckSlug,\r\n\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t:validation-messages=\"{\r\n\t\t\t\t\t\t\t\t\t\tcheckSlug:\r\n\t\t\t\t\t\t\t\t\t\t\t'Ya existe el slug ingresado',\r\n\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\tname=\"featured\"\r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Página destacada\"\r\n\t\t\t\t\t\t\t\t\thelp=\"Las páginas destacadas serán mostradas en el home de la web\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-3\">\r\n\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\ttype=\"wysiwyg\"\r\n\t\t\t\t\t\t\t\tname=\"intro\"\r\n\t\t\t\t\t\t\t\theight=\"200px\"\r\n\t\t\t\t\t\t\t\tlabel=\"Introducción\"\r\n\t\t\t\t\t\t\t\t:showMenuBar=\"false\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-3\">\r\n\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\tv-model=\"fullSection\"\r\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\tlabel=\"Redireccionar a otra sección?\"\r\n\t\t\t\t\t\t\t\thelp=\"Si redirecciona a otra sección debe ingresar el link, de lo contrario, ingrese el contenido a mostrar\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-3\" v-show=\"fullSection\">\r\n\t\t\t\t\t\t\t<FormulateInput v-model=\"form.link\" label=\"Link\" />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"mt-3\" v-show=\"!fullSection\">\r\n\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\ttype=\"wysiwyg\"\r\n\t\t\t\t\t\t\t\tname=\"body\"\r\n\t\t\t\t\t\t\t\tlabel=\"Contenido\"\r\n\t\t\t\t\t\t\t\t:showMenuBar=\"true\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div class=\"d-flex justify-content-between mt-3\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"btn btn-outline-secondary\"\r\n\t\t\t\t\t\t\t\t@click=\"$router.go(-1)\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<FormulateInput type=\"submit\" :label=\"title\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</FormulateForm>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</Layout>\r\n</template>\r\n\r\n<script>\r\nimport gql from 'graphql-tag'\r\nimport mixins from '@/mixins/mixins'\r\n\r\nexport default {\r\n\tname: 'PageForm',\r\n\tmixins: [mixins],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttitle: 'Crear sección',\r\n\t\t\taction: 'create',\r\n\t\t\tfullSection: false,\r\n\t\t\tform: {\r\n\t\t\t\timage: null,\r\n\t\t\t\tslug: '',\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tfeatured: false,\r\n\t\t\t\tbody: '',\r\n\t\t\t},\r\n\t\t\tloading: false,\r\n\t\t}\r\n\t},\r\n\tbeforeMount() {\r\n\t\tif (this.$route.params.id) {\r\n\t\t\tthis.action = 'update'\r\n\t\t\tthis.load()\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tsave() {\r\n\t\t\tthis.loading = true\r\n\t\t\tlet dataInput = {\r\n\t\t\t\timage: this.form.image ? this.form.image.id : null,\r\n\t\t\t\tslug: this.form.slug,\r\n\t\t\t\ttitle: this.form.title,\r\n\t\t\t\tbody: !this.fullSection ? this.form.body : '',\r\n\t\t\t\tintro: this.form.intro,\r\n\t\t\t\tfeatured: this.form.featured,\r\n\t\t\t\tlink: this.fullSection ? this.form.link : null,\r\n\t\t\t}\r\n\t\t\tif (this.action == 'create') {\r\n\t\t\t\tthis.create(dataInput)\r\n\t\t\t}\r\n\t\t\tif (this.action == 'update') {\r\n\t\t\t\tthis.update(dataInput)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreate(data) {\r\n\t\t\tthis.$apollo\r\n\t\t\t\t.mutate({\r\n\t\t\t\t\tmutation: gql`\r\n\t\t\t\t\t\tmutation($data: PageInput!) {\r\n\t\t\t\t\t\t\tpageCreate(data: $data) {\r\n\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t`,\r\n\t\t\t\t\tvariables: {\r\n\t\t\t\t\t\tdata,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.$toast.success('Sección creada correctamente')\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\tthis.$router.go(-1)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tthis.parseGQLErrors(error)\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tupdate(dataInput) {\r\n\t\t\tthis.$apollo\r\n\t\t\t\t.mutate({\r\n\t\t\t\t\tmutation: gql`\r\n\t\t\t\t\t\tmutation($id: ID!, $data: PageInput!) {\r\n\t\t\t\t\t\t\tpageUpdate(id: $id, data: $data) {\r\n\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t`,\r\n\t\t\t\t\tvariables: {\r\n\t\t\t\t\t\tid: this.$route.params.id,\r\n\t\t\t\t\t\tdata: dataInput,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.$toast.success('Sección editada correctamente')\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\tthis.$router.go(-1)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tthis.errors = this.parseGQLErrors(error)\r\n\t\t\t\t\tthis.saving = false\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tload() {\r\n\t\t\tthis.$apollo\r\n\t\t\t\t.query({\r\n\t\t\t\t\tquery: gql`\r\n\t\t\t\t\t\tquery($id: ID!) {\r\n\t\t\t\t\t\t\tpage(id: $id) {\r\n\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t\tslug\r\n\t\t\t\t\t\t\t\ttitle\r\n\t\t\t\t\t\t\t\tintro\r\n\t\t\t\t\t\t\t\tbody\r\n\t\t\t\t\t\t\t\tlink\r\n\t\t\t\t\t\t\t\tfeatured\r\n\t\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t\t\tfilename\r\n\t\t\t\t\t\t\t\t\ttype\r\n\t\t\t\t\t\t\t\t\turl\r\n\t\t\t\t\t\t\t\t\turlThumb\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t`,\r\n\t\t\t\t\tvariables: { id: this.$route.params.id },\r\n\t\t\t\t\tfetchPolicy: 'network-only',\r\n\t\t\t\t})\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tthis.form = data.data.page\r\n\t\t\t\t\tthis.title = `Editar sección`\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.$toast.success('El item que desea editar no existe')\r\n\t\t\t\t\tthis.$router.go(-1)\r\n\t\t\t\t})\r\n\t\t},\r\n\r\n\t\tasync checkSlug({ value }) {\r\n\t\t\tif (value) {\r\n\t\t\t\tconst existentSlug = await this.$apollo.query({\r\n\t\t\t\t\tquery: gql`\r\n\t\t\t\t\t\tquery($slug: String!) {\r\n\t\t\t\t\t\t\tpageCheckSlug(slug: $slug) {\r\n\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t`,\r\n\t\t\t\t\tvariables: { slug: value },\r\n\t\t\t\t\tfetchPolicy: 'network-only',\r\n\t\t\t\t})\r\n\t\t\t\tif (\r\n\t\t\t\t\texistentSlug.data.pageCheckSlug != null &&\r\n\t\t\t\t\texistentSlug.data.pageCheckSlug.id != this.$route.params.id\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t\treturn true\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card-body /deep/ .formulate-form {\r\n\tmax-width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SectionForm.vue?vue&type=template&id=54c8120f&scoped=true&\"\nimport script from \"./SectionForm.vue?vue&type=script&lang=js&\"\nexport * from \"./SectionForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SectionForm.vue?vue&type=style&index=0&id=54c8120f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54c8120f\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\n\r\n// defino variables y funciones globales\r\nexport default Vue.mixin({\r\n    data() {\r\n        return{\r\n            API_URL: process.env.VUE_APP_API_URL,\r\n        }\r\n    },\r\n    methods: {\r\n        \r\n        parseGQLErrors (error) {\r\n            let errorMessage\r\n            \r\n            if(error.graphQLErrors){\r\n                errorMessage = error.graphQLErrors[0] ? error.graphQLErrors[0].message : null\r\n            }\r\n            \r\n            if(error.networkError && !errorMessage){\r\n                errorMessage = error.networkError.result.errors[0] ? error.networkError.result.errors[0].message : null\r\n            }\r\n\r\n            if(error.message && !errorMessage){\r\n                errorMessage = error.message\r\n            }\r\n\r\n            if(!errorMessage){\r\n                errorMessage = 'Ha ocurrido un error'\r\n            }\r\n            this.$toast.error(errorMessage)\r\n            return errorMessage\r\n        },\r\n    }\r\n})\r\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.github.io/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n"],"sourceRoot":""}