{"version":3,"sources":["webpack:///./src/views/categories/CategoryImages.vue?aa6f","webpack:///./src/mixins/mixins.js","webpack:///./src/views/categories/CategoryForm.vue?f31d","webpack:///./src/views/categories/CategoryImages.vue?3bde","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///src/views/categories/CategoryImages.vue","webpack:///./src/views/categories/CategoryImages.vue?a96a","webpack:///./src/views/categories/CategoryImages.vue","webpack:///src/views/categories/CategoryForm.vue","webpack:///./src/views/categories/CategoryForm.vue?45fa","webpack:///./src/views/categories/CategoryForm.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///./src/mixins/formMixins.js"],"names":["Vue","mixin","data","API_URL","process","methods","parseGQLErrors","error","errorMessage","graphQLErrors","message","networkError","result","errors","this","$toast","render","_vm","_h","$createElement","_c","_self","attrs","loading","saving","title","scopedSlots","_u","key","fn","action","form","staticClass","proxy","on","$event","deletePrompt","_v","_e","ref","staticStyle","save","model","value","callback","$$v","expression","ACTIVE","INACTIVE","featured","$router","go","staticRenderFns","_l","image","index","open","url","_s","domProps","body","close","_typeof","obj","Symbol","iterator","constructor","prototype","component","_createForOfIteratorHelper","o","allowArrayLike","it","Array","isArray","unsupportedIterableToArray","length","i","F","s","n","done","e","f","TypeError","err","normalCompletion","didErr","call","step","next","_e2","covertArrayToSelectableObject","items","results","item","push","id","label","name"],"mappings":"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C,SAAiBF,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,oBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOG,UAAY,gBAAkBJ,GAItHD,EAAQC,G,wBCgEjB,GACA,sBACA,gBACA,OACA,QACA,WACA,aAGA,KATA,WAUA,OACA,MACA,WACA,WACA,UACA,YAEA,gBACA,aAIA,YAtBA,WAsBA,wJACA,aACA,aAFA,8CAKA,SACA,KADA,SACA,GACA,OACA,oDAEA,iCAGA,MARA,WASA,iCAGA,KAZA,WAYA,8JACA,aACA,oBAEA,GACA,wCACA,mBACA,kBAGA,oBACA,YAEA,oBACA,YAEA,aACA,UAjBA,8CAoBA,OAhCA,SAgCA,GACA,4BACA,eACA,eAEA,oBACA,mCAGA,OAzCA,SAyCA,GACA,mCAGA,aA7CA,SA6CA,cACA,aACA,QACA,CACA,wBACA,6FAEA,CACA,kBACA,8BAGA,iBACA,kCClKuW,I,wBCQnWK,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCsWf,GACA,uBACA,YACA,kBAEA,uBACA,KANA,WAOA,OACA,wBACA,gBACA,4BACA,MACA,WACA,eACA,UACA,eACA,UACA,UACA,iBACA,YACA,oBACA,qBACA,iBACA,YACA,eACA,mBACA,sBACA,eAEA,iBACA,WACA,YACA,WACA,YAIA,YArCA,WAqCA,2JACA,cAEA,mBAHA,uBAIA,kBACA,2BACA,8BANA,SAOA,SAPA,OASA,aATA,8CAYA,SACA,aADA,SACA,GACA,+BACA,oBAEA,aALA,SAKA,GACA,gCAGA,aATA,SASA,GACA,gCAIA,KAdA,WAcA,iKACA,YAEA,GACA,wCACA,oDACA,oDACA,iBACA,+BACA,mBACA,qBACA,8CACA,yBACA,yCACA,+CACA,qCACA,2CACA,mDACA,+CACA,2BACA,qCACA,qBACA,qBACA,+BACA,OACA,cACA,YACA,kCAGA,GACA,QACA,wBACA,sDACA,IAGA,mBArCA,gCAsCA,YAtCA,UAwCA,mBAxCA,gCAyCA,YAzCA,OA2CA,YA3CA,8CA8CA,OA5DA,SA4DA,cACA,oBACA,QACA,4MAOA,WACA,UAGA,iBACA,mDACA,aACA,YACA,oBAEA,mBACA,oBACA,iBAIA,OAtFA,SAsFA,cACA,oBACA,QACA,+NAOA,WACA,yBACA,UAGA,iBACA,oDACA,YACA,oBAEA,mBACA,iCAIA,KA/GA,WA+GA,WACA,oBACA,OACA,0nDAiEA,qCACA,6BAEA,+BACA,wBAEA,kBACA,uDACA,qBAIA,aA/LA,SA+LA,cACA,aACA,QACA,CACA,2BACA,4FAEA,CACA,kBACA,8BAGA,iBACA,gBAIA,OAhNA,SAgNA,cACA,aACA,aACA,QACA,wLAOA,WACA,WAGA,iBACA,sDACA,YAEA,mBACA,6BACA,mBC/oBqW,ICOjW,EAAY,eACd,EACApD,EACAoC,GACA,EACA,KACA,KACA,MAIa,e,uHCjBA,SAASiB,EAA2BC,EAAGC,GACpD,IAAIC,EAAuB,qBAAXR,QAA0BM,EAAEN,OAAOC,WAAaK,EAAE,cAElE,IAAKE,EAAI,CACP,GAAIC,MAAMC,QAAQJ,KAAOE,EAAKG,eAA2BL,KAAOC,GAAkBD,GAAyB,kBAAbA,EAAEM,OAAqB,CAC/GJ,IAAIF,EAAIE,GACZ,IAAIK,EAAI,EAEJC,EAAI,aAER,MAAO,CACLC,EAAGD,EACHE,EAAG,WACD,OAAIH,GAAKP,EAAEM,OAAe,CACxBK,MAAM,GAED,CACLA,MAAM,EACNtC,MAAO2B,EAAEO,OAGbK,EAAG,SAAW5C,GACZ,MAAMA,GAER6C,EAAGL,GAIP,MAAM,IAAIM,UAAU,yIAGtB,IAEIC,EAFAC,GAAmB,EACnBC,GAAS,EAEb,MAAO,CACLR,EAAG,WACDP,EAAKA,EAAGgB,KAAKlB,IAEfU,EAAG,WACD,IAAIS,EAAOjB,EAAGkB,OAEd,OADAJ,EAAmBG,EAAKR,KACjBQ,GAETP,EAAG,SAAWS,GACZJ,GAAS,EACTF,EAAMM,GAERR,EAAG,WACD,IACOG,GAAoC,MAAhBd,EAAG,WAAmBA,EAAG,YADpD,QAGE,GAAIe,EAAQ,MAAMF,K,0BCnDXrF,oBAAIC,MAAM,CACrBC,KAAM,WACF,MAAO,CACHsB,QAAQ,IAGhBnB,QAAS,CASLuF,8BATK,SASyBC,GAC1B,IADgC,EAC5BC,EAAU,GADkB,IAEbD,GAFa,IAEhC,2BAAyB,KAAdE,EAAc,QACrBD,EAAQE,KAAK,CAAErD,MAAOoD,EAAKE,GAAIC,MAAOH,EAAKI,QAHf,8BAKzC,OAAOL,O","file":"js/chunk-0cd1318c.20d296b9.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryImages.vue?vue&type=style&index=0&id=7224c477&scoped=true&lang=css&\"","import Vue from 'vue'\r\n\r\n// defino variables y funciones globales\r\nexport default Vue.mixin({\r\n    data() {\r\n        return{\r\n            API_URL: process.env.VUE_APP_API_URL,\r\n        }\r\n    },\r\n    methods: {\r\n        \r\n        parseGQLErrors (error) {\r\n            let errorMessage\r\n            \r\n            if(error.graphQLErrors){\r\n                errorMessage = error.graphQLErrors[0] ? error.graphQLErrors[0].message : null\r\n            }\r\n            \r\n            if(error.networkError && !errorMessage){\r\n                errorMessage = error.networkError.result.errors[0] ? error.networkError.result.errors[0].message : null\r\n            }\r\n\r\n            if(error.message && !errorMessage){\r\n                errorMessage = error.message\r\n            }\r\n\r\n            if(!errorMessage){\r\n                errorMessage = 'Ha ocurrido un error'\r\n            }\r\n            this.$toast.error(errorMessage)\r\n            return errorMessage\r\n        },\r\n    }\r\n})\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',{attrs:{\"loading\":_vm.loading || _vm.saving,\"pageTitle\":_vm.title},scopedSlots:_vm._u([{key:\"cta\",fn:function(){return [(_vm.action == 'update' && _vm.form)?_c('b-dropdown',{staticClass:\"dropdown-dots\",attrs:{\"no-caret\":\"\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"icon icon-dot-3\"})]},proxy:true}],null,false,328388857)},[_c('b-dropdown-item',{staticClass:\"delete-item\",on:{\"click\":function($event){return _vm.deletePrompt(_vm.form)}}},[_c('i',{staticClass:\"icon icon-trashcan\"}),_vm._v(\" Eliminar\")])],1):_vm._e()]},proxy:true}])},[_c('FormulateForm',{ref:\"formCategory\",staticStyle:{\"max-width\":\"100%\"},attrs:{\"name\":\"form\"},on:{\"submit\":_vm.save},model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}},[(!_vm.loading)?_c('div',{staticClass:\"main-container container\"},[_c('div',{staticClass:\"row row-xs mt-4\"},[_c('div',{staticClass:\"col-12 col-md-4\"},[_c('div',{staticClass:\"card \"},[_c('div',{staticClass:\"card-body\"},[_c('FormulateInput',{attrs:{\"label\":\"Imagen Listado\",\"name\":\"image\",\"type\":\"file\",\"accept\":\"images\",\"listStyle\":\"thumb\",\"displayBlock\":true,\"validation-name\":\"Imagen\",\"validation\":\"required\",\"help\":\"La imagen debe ser de 591px x 422px con fondo transparente\"}}),_c('FormulateInput',{attrs:{\"label\":\"Nombre\",\"name\":\"name\",\"validation-name\":\"Nombre\",\"validation\":\"required\"}}),_c('FormulateInput',{attrs:{\"label\":\"Intro\",\"name\":\"intro\",\"validation-name\":\"Intro\",\"validation\":\"required\",\"type\":\"textarea\"}}),_c('FormulateInput',{attrs:{\"label\":\"Estado\",\"name\":\"status\",\"type\":\"select\",\"options\":{\n\t\t\t\t\t\t\t\t\tACTIVE: 'Activo',\n\t\t\t\t\t\t\t\t\tINACTIVE: 'Inactivo',\n\t\t\t\t\t\t\t\t}}})],1)])]),_c('div',{staticClass:\"col-12 col-md-8\"},[_c('div',{staticClass:\"card \"},[_c('div',{staticClass:\"card-body\"},[_c('b-tabs',{attrs:{\"content-class\":\"mt-3\"}},[_c('b-tab',{attrs:{\"title\":\"Propiedades\"}},[_c('div',{staticClass:\"row row-xs\"},[_c('div',{staticClass:\"col-12 \"},[_c('FormulateInput',{attrs:{\"label\":\"Imagen principal\",\"name\":\"imageMain\",\"type\":\"file\",\"accept\":\"images\",\"listStyle\":\"thumb\",\"displayBlock\":true,\"validation-name\":\"Imagen\",\"validation\":\"required\",\"help\":\"La imagen debe ser de 1400px x 640px\"}})],1),_c('div',{staticClass:\"col-12 mt-3\"},[_c('FormulateInput',{attrs:{\"label\":\"Titulo de descripción\",\"name\":\"detailTitle\",\"validation-name\":\"Título\",\"validation\":\"required\"}})],1),_c('div',{staticClass:\"col-12 mt-3\"},[_c('FormulateInput',{attrs:{\"type\":\"wysiwyg\",\"name\":\"detail\",\"height\":\"200px\",\"label\":\"Descripción\",\"showMenuBar\":false}})],1),_c('div',{staticClass:\"col-12 mt-3\"},[_c('FormulateInput',{attrs:{\"label\":\"Ficha técnica\",\"name\":\"dataSheet\",\"type\":\"file\",\"accept\":\"file\",\"displayBlock\":true,\"help\":\"Ficha técnica PDF\"}})],1)])]),_c('b-tab',{attrs:{\"title\":\"Oferta\"}},[_c('div',{staticClass:\"row row-xs\"},[_c('FormulateInput',{staticClass:\"mt-3\",attrs:{\"name\":\"featured\",\"type\":\"checkbox\",\"label\":\"Oportunidad?\",\"help\":\"Las categorías marcadas como oportunidad serán mostradas en el home de la web.\"}}),_c('FormulateInput',{staticClass:\"mr-2\",attrs:{\"label\":\"Precio desde\",\"type\":\"price\",\"name\":\"price\",\"validation-name\":\"Precio\",\"validation\":_vm.form.featured\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'required'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: null}}),_c('FormulateInput',{attrs:{\"type\":\"wysiwyg\",\"name\":\"featuredDetail\",\"height\":\"200px\",\"label\":\"Información de oferta\",\"showMenuBar\":false}})],1)]),_c('b-tab',{attrs:{\"title\":\"Galería\"}},[_c('FormulateInput',{attrs:{\"label\":\"Imagen\",\"name\":\"gallery\",\"type\":\"file\",\"accept\":\"images\",\"listStyle\":\"thumb\",\"multiple\":true,\"validation-name\":\"Imagen\"}})],1)],1),_c('hr'),_c('div',{staticClass:\"d-flex justify-content-between mt-4\"},[_c('FormulateInput',{attrs:{\"type\":\"button\",\"data-ghost\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"Cancelar\")]),(_vm.saving)?_c('FormulateInput',{attrs:{\"type\":\"button\",\"disabled\":\"\"}},[_vm._v(\"Guardando \"),_c('span',{staticClass:\"loader\"})]):_c('FormulateInput',{attrs:{\"type\":\"submit\",\"label\":_vm.title}})],1)],1)])])])]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',_vm._l((_vm.images),function(image,index){return _c('div',{key:index,staticClass:\"row item\",on:{\"click\":function($event){return _vm.open(index)}}},[_c('div',{staticClass:\"col-3\"},[(image.image)?_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":image.image.url}}):_vm._e()]),_c('div',{staticClass:\"col-9\"},[_c('h5',[_vm._v(_vm._s(image.title))]),_c('div',{domProps:{\"innerHTML\":_vm._s(image.body)}})])])}),0),_c('div',[_c('div',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.open}},[_vm._v(\"Agregar imagen\")])]),_c('b-modal',{attrs:{\"id\":\"imageForm\",\"title\":\"Cargar imagen\",\"no-close-on-backdrop\":\"\",\"hide-footer\":\"\"}},[_c('FormulateForm',{ref:\"form\",on:{\"submit\":_vm.save},model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}},[_c('FormulateInput',{attrs:{\"label\":\"Imagen\",\"name\":\"image\",\"type\":\"file\",\"accept\":\"images\",\"listStyle\":\"thumb\",\"displayBlock\":true,\"validation-name\":\"Imagen\"}}),_c('FormulateInput',{attrs:{\"label\":\"Título\",\"name\":\"title\",\"type\":\"text\",\"validation-name\":\"Título\",\"validation\":\"required\"}}),_c('FormulateInput',{attrs:{\"type\":\"wysiwyg\",\"name\":\"body\",\"height\":\"200px\",\"label\":\"Texto\",\"showMenuBar\":false}}),_c('hr'),_c('div',{staticClass:\"d-flex justify-content-between mt-4\"},[_c('FormulateInput',{attrs:{\"type\":\"button\",\"data-ghost\":\"\"},on:{\"click\":function($event){return _vm.close()}}},[_vm._v(\"Cancelar\")]),_c('FormulateInput',{attrs:{\"type\":\"submit\",\"label\":\"Guardar\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","<template>\r\n\t<div>\r\n\t\t<div>\r\n\t\t\t<div\r\n\t\t\t\tclass=\"row item\"\r\n\t\t\t\tv-for=\"(image, index) in images\"\r\n\t\t\t\t:key=\"index\"\r\n\t\t\t\t@click=\"open(index)\"\r\n\t\t\t>\r\n\t\t\t\t<div class=\"col-3\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tv-if=\"image.image\"\r\n\t\t\t\t\t\t:src=\"image.image.url\"\r\n\t\t\t\t\t\tclass=\"img-fluid\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-9\">\r\n\t\t\t\t\t<h5>{{ image.title }}</h5>\r\n\t\t\t\t\t<div v-html=\"image.body\"></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div>\r\n\t\t\t<div class=\"btn btn-primary\" @click=\"open\">Agregar imagen</div>\r\n\t\t</div>\r\n\r\n\t\t<b-modal\r\n\t\t\tid=\"imageForm\"\r\n\t\t\ttitle=\"Cargar imagen\"\r\n\t\t\tno-close-on-backdrop\r\n\t\t\thide-footer\r\n\t\t>\r\n\t\t\t<FormulateForm v-model=\"form\" ref=\"form\" class=\"\" @submit=\"save\">\r\n\t\t\t\t<FormulateInput\r\n\t\t\t\t\tlabel=\"Imagen\"\r\n\t\t\t\t\tname=\"image\"\r\n\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\taccept=\"images\"\r\n\t\t\t\t\tlistStyle=\"thumb\"\r\n\t\t\t\t\t:displayBlock=\"true\"\r\n\t\t\t\t\tvalidation-name=\"Imagen\"\r\n\t\t\t\t/>\r\n\t\t\t\t<!-- validation=\"required\" -->\r\n\r\n\t\t\t\t<FormulateInput\r\n\t\t\t\t\tlabel=\"Título\"\r\n\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalidation-name=\"Título\"\r\n\t\t\t\t\tvalidation=\"required\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<FormulateInput\r\n\t\t\t\t\ttype=\"wysiwyg\"\r\n\t\t\t\t\tname=\"body\"\r\n\t\t\t\t\theight=\"200px\"\r\n\t\t\t\t\tlabel=\"Texto\"\r\n\t\t\t\t\t:showMenuBar=\"false\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<hr />\r\n\t\t\t\t<div class=\"d-flex justify-content-between mt-4\">\r\n\t\t\t\t\t<FormulateInput type=\"button\" data-ghost @click=\"close()\"\r\n\t\t\t\t\t\t>Cancelar</FormulateInput\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<FormulateInput type=\"submit\" label=\"Guardar\" />\r\n\t\t\t\t</div>\r\n\t\t\t</FormulateForm>\r\n\t\t</b-modal>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport gql from 'graphql-tag'\r\nimport formMixins from '@/mixins/formMixins'\r\n\r\nexport default {\r\n\tname: 'CategoryImages',\r\n\tmixins: [formMixins],\r\n\tprops: {\r\n\t\timages: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: [],\r\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tform: {\r\n\t\t\t\tindex: null,\r\n\t\t\t\ttitle: null,\r\n\t\t\t\tbody: null,\r\n\t\t\t\timage: null,\r\n\t\t\t},\r\n\t\t\taction: 'create',\r\n\t\t\tloading: false,\r\n\t\t}\r\n\t},\r\n\r\n\tasync beforeMount() {\r\n\t\tthis.loading = true\r\n\t\tthis.loading = false\r\n\t},\r\n\r\n\tmethods: {\r\n\t\topen(index) {\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\tthis.form = { index, ...this.images[index] }\r\n\t\t\t}\r\n\t\t\tthis.$bvModal.show('imageForm')\r\n\t\t},\r\n\r\n\t\tclose() {\r\n\t\t\tthis.$bvModal.hide('imageForm')\r\n\t\t},\r\n\r\n\t\tasync save() {\r\n\t\t\tthis.loading = true\r\n\t\t\tconsole.log(this.form)\r\n\r\n\t\t\tlet dataInput = {\r\n\t\t\t\timage: this.form.image ? this.form.image.id : null,\r\n\t\t\t\ttitle: this.form.title,\r\n\t\t\t\tbody: this.form.body,\r\n\t\t\t}\r\n\r\n\t\t\tif (this.action == 'create') {\r\n\t\t\t\tthis.create(dataInput)\r\n\t\t\t}\r\n\t\t\tif (this.action == 'update') {\r\n\t\t\t\tthis.update(dataInput)\r\n\t\t\t}\r\n\t\t\tthis.loading = false\r\n\t\t\tthis.close()\r\n\t\t},\r\n\r\n\t\tcreate(data) {\r\n\t\t\tconsole.log(typeof this.images)\r\n\t\t\tthis.images = []\r\n\t\t\tif (typeof this.images != 'object') {\r\n\t\t\t}\r\n\t\t\tthis.images.push(data)\r\n\t\t\tthis.$emit('created', this.images)\r\n\t\t},\r\n\r\n\t\tupdate(data) {\r\n\t\t\tthis.$emit('updated', this.images)\r\n\t\t},\r\n\r\n\t\tdeletePrompt(data) {\r\n\t\t\tthis.$dialog\r\n\t\t\t\t.confirm(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Eliminar imagen',\r\n\t\t\t\t\t\tbody: `¿Está seguro que desea eliminar la imagen \"<strong>${form.title}\"</strong>?`,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tokText: 'Eliminar',\r\n\t\t\t\t\t\tcustomClass: 'delete-prompt',\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.$emit('deleted', this.images)\r\n\t\t\t\t})\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.item {\r\n\tborder-bottom: 1px solid #f3f3f3;\r\n\tpadding: 14px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryImages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryImages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CategoryImages.vue?vue&type=template&id=7224c477&scoped=true&\"\nimport script from \"./CategoryImages.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoryImages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CategoryImages.vue?vue&type=style&index=0&id=7224c477&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7224c477\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<Layout :loading=\"loading || saving\" :pageTitle=\"title\">\r\n\t\t<template #cta>\r\n\t\t\t<b-dropdown\r\n\t\t\t\tno-caret\r\n\t\t\t\tright\r\n\t\t\t\tclass=\"dropdown-dots\"\r\n\t\t\t\tv-if=\"action == 'update' && form\"\r\n\t\t\t>\r\n\t\t\t\t<template v-slot:button-content\r\n\t\t\t\t\t><i class=\"icon icon-dot-3\"></i\r\n\t\t\t\t></template>\r\n\t\t\t\t<b-dropdown-item @click=\"deletePrompt(form)\" class=\"delete-item\"\r\n\t\t\t\t\t><i class=\"icon icon-trashcan\"></i>\r\n\t\t\t\t\tEliminar</b-dropdown-item\r\n\t\t\t\t>\r\n\t\t\t</b-dropdown>\r\n\r\n\t\t\t<!-- <div class=\"d-flex align-items-center\">\r\n\t\t\t\t<span class=\"d-flex mr-3\">\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tclass=\"dot mt-1 mr-1\"\r\n\t\t\t\t\t\t:class=\"`dot-${form.statusClass}`\"\r\n\t\t\t\t\t></i>\r\n\t\t\t\t\t<span>{{ form.statusText }}</span>\r\n\t\t\t\t</span>\r\n\t\t\t\t<b-dropdown\r\n\t\t\t\t\tno-caret\r\n\t\t\t\t\tright\r\n\t\t\t\t\tclass=\"dropdown-dots\"\r\n\t\t\t\t\tv-if=\"action == 'update' && form\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<template v-slot:button-content\r\n\t\t\t\t\t\t><i class=\"icon icon-dot-3\"></i\r\n\t\t\t\t\t></template>\r\n\t\t\t\t\t<b-dropdown-item @click=\"toggleStatus()\">\r\n\t\t\t\t\t\t<span v-if=\"form.status == 'INACTIVE'\"\r\n\t\t\t\t\t\t\t>Activar tarifa</span\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<span v-else>Desactivar tarifa</span>\r\n\t\t\t\t\t</b-dropdown-item>\r\n\t\t\t\t\t<b-dropdown-item\r\n\t\t\t\t\t\t@click=\"deletePrompt(form)\"\r\n\t\t\t\t\t\tclass=\"delete-item\"\r\n\t\t\t\t\t\t><i class=\"icon icon-trashcan\"></i>\r\n\t\t\t\t\t\tEliminar</b-dropdown-item\r\n\t\t\t\t\t>\r\n\t\t\t\t</b-dropdown>\r\n\t\t\t</div> -->\r\n\t\t</template>\r\n\r\n\t\t<FormulateForm\r\n\t\t\tv-model=\"form\"\r\n\t\t\tname=\"form\"\r\n\t\t\tref=\"formCategory\"\r\n\t\t\tstyle=\"max-width:100%\"\r\n\t\t\t@submit=\"save\"\r\n\t\t>\r\n\t\t\t<div class=\"main-container container\" v-if=\"!loading\">\r\n\t\t\t\t<div class=\"row row-xs mt-4\">\r\n\t\t\t\t\t<div class=\"col-12 col-md-4\">\r\n\t\t\t\t\t\t<div class=\"card \">\r\n\t\t\t\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\tlabel=\"Imagen Listado\"\r\n\t\t\t\t\t\t\t\t\tname=\"image\"\r\n\t\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\t\taccept=\"images\"\r\n\t\t\t\t\t\t\t\t\tlistStyle=\"thumb\"\r\n\t\t\t\t\t\t\t\t\t:displayBlock=\"true\"\r\n\t\t\t\t\t\t\t\t\tvalidation-name=\"Imagen\"\r\n\t\t\t\t\t\t\t\t\tvalidation=\"required\"\r\n\t\t\t\t\t\t\t\t\t:help=\"\r\n\t\t\t\t\t\t\t\t\t\t`La imagen debe ser de 591px x 422px con fondo transparente`\r\n\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<!-- <FormulateInput\r\n\t\t\t\t\t\t\t\t\ttype=\"slug\"\r\n\t\t\t\t\t\t\t\t\tname=\"slug\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Slug\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Slug\"\r\n\t\t\t\t\t\t\t\t\thelp=\"Url a la página\"\r\n\t\t\t\t\t\t\t\t\tvalidation=\"required|checkSlug\"\r\n\t\t\t\t\t\t\t\t\t:validation-rules=\"{\r\n\t\t\t\t\t\t\t\t\t\tcheckSlug,\r\n\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t:validation-messages=\"{\r\n\t\t\t\t\t\t\t\t\t\tcheckSlug:\r\n\t\t\t\t\t\t\t\t\t\t\t'Ya existe el slug ingresado',\r\n\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t/> -->\r\n\r\n\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\tlabel=\"Nombre\"\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tvalidation-name=\"Nombre\"\r\n\t\t\t\t\t\t\t\t\tvalidation=\"required\"\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\tlabel=\"Intro\"\r\n\t\t\t\t\t\t\t\t\tname=\"intro\"\r\n\t\t\t\t\t\t\t\t\tvalidation-name=\"Intro\"\r\n\t\t\t\t\t\t\t\t\tvalidation=\"required\"\r\n\t\t\t\t\t\t\t\t\ttype=\"textarea\"\r\n\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\tlabel=\"Estado\"\r\n\t\t\t\t\t\t\t\t\tname=\"status\"\r\n\t\t\t\t\t\t\t\t\ttype=\"select\"\r\n\t\t\t\t\t\t\t\t\t:options=\"{\r\n\t\t\t\t\t\t\t\t\t\tACTIVE: 'Activo',\r\n\t\t\t\t\t\t\t\t\t\tINACTIVE: 'Inactivo',\r\n\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"col-12 col-md-8\">\r\n\t\t\t\t\t\t<div class=\"card \">\r\n\t\t\t\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t\t\t\t<b-tabs content-class=\"mt-3\">\r\n\t\t\t\t\t\t\t\t\t<b-tab title=\"Propiedades\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"row row-xs\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 \">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Imagen principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"imageMain\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taccept=\"images\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlistStyle=\"thumb\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:displayBlock=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidation-name=\"Imagen\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidation=\"required\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:help=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t`La imagen debe ser de 1400px x 640px`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 mt-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Titulo de descripción\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"detailTitle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidation-name=\"Título\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalidation=\"required\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 mt-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"wysiwyg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"detail\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight=\"200px\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Descripción\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:showMenuBar=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 mt-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Ficha técnica\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"dataSheet\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taccept=\"file\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:displayBlock=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:help=\"`Ficha técnica PDF`\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <div class=\"col-12 col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mb-3\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Combustible\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"propFuel\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:options=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgasoline: 'Nafta',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgasoil: 'Gasoil',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telectric: 'Eléctrico',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mb-3\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Transmisión\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"propTransmission\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:options=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmanual: 'Manual',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tauto: 'Automática',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mb-3\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Pasajeros\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"propPassengers\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:options=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t1: '1',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t2: '2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t3: '3',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4: '4',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t5: '5',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t6: '6',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t7: '7',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t8: '8',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t9: '9',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t10: '10',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t11: '11',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t12: '12',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t13: '13',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t14: '14',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t15: '15',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mb-3\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Puertas\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"propDoors\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:options=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t1: '1',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t2: '2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t3: '3',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4: '4',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t5: '5',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t6: '6',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t7: '7',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t8: '8',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mb-3\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Valijas\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"propLuggages\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:options=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t1: '1',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t2: '2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t3: '3',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4: '4',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t5: '5',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t6: '6',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t7: '7',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t8: '8',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mb-3\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Equipaje de mano\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"propHandLuggages\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:options=\"{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t1: '1',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t2: '2',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t3: '3',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t4: '4',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t5: '5',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t6: '6',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t7: '7',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t8: '8',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"col-12 col-md-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mb-3 mt-4 ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"propAirConditioner\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Aire Acondicionado\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</b-tab>\r\n\r\n\t\t\t\t\t\t\t\t\t<b-tab title=\"Oferta\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"row row-xs\">\r\n\t\t\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mt-3\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"featured\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Oportunidad?\"\r\n\t\t\t\t\t\t\t\t\t\t\t\thelp=\"Las categorías marcadas como oportunidad serán mostradas en el home de la web.\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Precio desde\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"price\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"price\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalidation-name=\"Precio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:validation=\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tform.featured\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'required'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"wysiwyg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"featuredDetail\"\r\n\t\t\t\t\t\t\t\t\t\t\t\theight=\"200px\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Información de oferta\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:showMenuBar=\"false\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</b-tab>\r\n\r\n\t\t\t\t\t\t\t\t\t<b-tab title=\"Galería\">\r\n\t\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Imagen\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"gallery\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\t\t\t\taccept=\"images\"\r\n\t\t\t\t\t\t\t\t\t\t\tlistStyle=\"thumb\"\r\n\t\t\t\t\t\t\t\t\t\t\t:multiple=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalidation-name=\"Imagen\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<!-- <CategoryImages\r\n\t\t\t\t\t\t\t\t\t\t\t:images=\"form.images\"\r\n\t\t\t\t\t\t\t\t\t\t\t@created=\"imageCreated\"\r\n\t\t\t\t\t\t\t\t\t\t\t@updated=\"imageUpdated\"\r\n\t\t\t\t\t\t\t\t\t\t\t@deleted=\"imageDeleted\"\r\n\t\t\t\t\t\t\t\t\t\t/> -->\r\n\t\t\t\t\t\t\t\t\t</b-tab>\r\n\t\t\t\t\t\t\t\t</b-tabs>\r\n\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclass=\"d-flex justify-content-between mt-4\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tdata-ghost\r\n\t\t\t\t\t\t\t\t\t\t@click=\"$router.go(-1)\"\r\n\t\t\t\t\t\t\t\t\t\t>Cancelar</FormulateInput\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\t\tv-if=\"saving\"\r\n\t\t\t\t\t\t\t\t\t\t>Guardando <span class=\"loader\"\r\n\t\t\t\t\t\t\t\t\t/></FormulateInput>\r\n\t\t\t\t\t\t\t\t\t<FormulateInput\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\t:label=\"title\"\r\n\t\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</FormulateForm>\r\n\t</Layout>\r\n</template>\r\n\r\n<script>\r\nimport gql from 'graphql-tag'\r\nimport mixins from '@/mixins/mixins'\r\nimport formMixins from '@/mixins/formMixins'\r\nimport CategoryImages from '@/views/categories/CategoryImages'\r\n\r\nexport default {\r\n\tname: 'CarCategoryForm',\r\n\tcomponents: {\r\n\t\tCategoryImages,\r\n\t},\r\n\tmixins: [mixins, formMixins],\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ttitle: 'Crear categoría',\r\n\t\t\taction: 'create',\r\n\t\t\tbtnAction: 'Crear categoría',\r\n\t\t\tform: {\r\n\t\t\t\timage: null,\r\n\t\t\t\timageMain: null,\r\n\t\t\t\timages: [],\r\n\t\t\t\tdataSheet: null,\r\n\t\t\t\tslug: null,\r\n\t\t\t\tname: null,\r\n\t\t\t\tdetailTitle: null,\r\n\t\t\t\tdetail: null,\r\n\t\t\t\tfeaturedDetail: null,\r\n\t\t\t\tpropAirConditioner: 1,\r\n\t\t\t\tpropPassengers: 1,\r\n\t\t\t\tpropDoors: 1,\r\n\t\t\t\tpropLuggages: 1,\r\n\t\t\t\tpropHandLuggages: 1,\r\n\t\t\t\tpropTransmission: null,\r\n\t\t\t\tpropFuel: null,\r\n\t\t\t},\r\n\t\t\tcategoryTypes: [],\r\n\t\t\toffices: [],\r\n\t\t\tconcepts: [],\r\n\t\t\tloading: true,\r\n\t\t\tsaving: false,\r\n\t\t}\r\n\t},\r\n\r\n\tasync beforeMount() {\r\n\t\tthis.loading = true\r\n\t\t// await this.fetchData()\r\n\t\tif (this.$route.params.id) {\r\n\t\t\tthis.action = 'update'\r\n\t\t\tthis.title = `Editar categoría`\r\n\t\t\tthis.btnAction = 'Guardar cambios'\r\n\t\t\tawait this.load()\r\n\t\t}\r\n\t\tthis.loading = false\r\n\t},\r\n\r\n\tmethods: {\r\n\t\timageCreated(data) {\r\n\t\t\tconsole.log('image created', data)\r\n\t\t\tthis.form.images = data\r\n\t\t},\r\n\t\timageUpdated(data) {\r\n\t\t\tconsole.log('image updated', data)\r\n\t\t\t// this.form.images.push(data)\r\n\t\t},\r\n\t\timageDeleted(data) {\r\n\t\t\tconsole.log('image deleted', data)\r\n\t\t\t// this.form.images.push(data)\r\n\t\t},\r\n\r\n\t\tasync save() {\r\n\t\t\tthis.saving = true\r\n\r\n\t\t\tlet dataInput = {\r\n\t\t\t\timage: this.form.image ? this.form.image.id : null,\r\n\t\t\t\timageMain: this.form.imageMain ? this.form.imageMain.id : null,\r\n\t\t\t\tdataSheet: this.form.dataSheet ? this.form.dataSheet.id : null,\r\n\t\t\t\tname: this.form.name,\r\n\t\t\t\tdetailTitle: this.form.detailTitle,\r\n\t\t\t\tintro: this.form.intro,\r\n\t\t\t\tdetail: this.form.detail,\r\n\t\t\t\tprice: this.form.price ? parseFloat(this.form.price) : 0,\r\n\t\t\t\tpropFuel: this.form.propFuel,\r\n\t\t\t\tpropTransmission: this.form.propTransmission,\r\n\t\t\t\tpropPassengers: parseInt(this.form.propPassengers),\r\n\t\t\t\tpropDoors: parseInt(this.form.propDoors),\r\n\t\t\t\tpropLuggages: parseInt(this.form.propLuggages),\r\n\t\t\t\tpropHandLuggages: parseInt(this.form.propHandLuggages),\r\n\t\t\t\tpropAirConditioner: this.form.propAirConditioner ? true : false,\r\n\t\t\t\tfeatured: this.form.featured ? true : false,\r\n\t\t\t\tfeaturedDetail: this.form.featuredDetail,\r\n\t\t\t\tstatus: this.form.status,\r\n\t\t\t\timages: this.form.images\r\n\t\t\t\t\t? this.form.images.map((i) => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\ttitle: i.title,\r\n\t\t\t\t\t\t\t\tbody: i.body,\r\n\t\t\t\t\t\t\t\timage: i.image ? i.image.id : null,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t  })\r\n\t\t\t\t\t: [],\r\n\t\t\t\tgallery:\r\n\t\t\t\t\tthis.form.gallery.length > 0\r\n\t\t\t\t\t\t? this.form.gallery.map((i) => (i ? i.id : null))\r\n\t\t\t\t\t\t: [],\r\n\t\t\t}\r\n\r\n\t\t\tif (this.action == 'create') {\r\n\t\t\t\tawait this.create(dataInput)\r\n\t\t\t}\r\n\t\t\tif (this.action == 'update') {\r\n\t\t\t\tawait this.update(dataInput)\r\n\t\t\t}\r\n\t\t\tthis.saving = false\r\n\t\t},\r\n\r\n\t\tcreate(data) {\r\n\t\t\treturn this.$apollo\r\n\t\t\t\t.mutate({\r\n\t\t\t\t\tmutation: gql`\r\n\t\t\t\t\t\tmutation($data: CarCategoryInput!) {\r\n\t\t\t\t\t\t\tcarCategoryCreate(data: $data) {\r\n\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t`,\r\n\t\t\t\t\tvariables: {\r\n\t\t\t\t\t\tdata,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.$toast.success('Categoría creada correctamente')\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\tthis.saving = false\r\n\t\t\t\t\tthis.$router.go(-1)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tthis.parseGQLErrors(error)\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t})\r\n\t\t},\r\n\r\n\t\tupdate(data) {\r\n\t\t\treturn this.$apollo\r\n\t\t\t\t.mutate({\r\n\t\t\t\t\tmutation: gql`\r\n\t\t\t\t\t\tmutation($id: ID!, $data: CarCategoryInput!) {\r\n\t\t\t\t\t\t\tcarCategoryUpdate(id: $id, data: $data) {\r\n\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t`,\r\n\t\t\t\t\tvariables: {\r\n\t\t\t\t\t\tid: this.$route.params.id,\r\n\t\t\t\t\t\tdata,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.$toast.success('Categoría editada correctamente')\r\n\t\t\t\t\tthis.saving = false\r\n\t\t\t\t\tthis.$router.go(-1)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tthis.errors = this.parseGQLErrors(error)\r\n\t\t\t\t})\r\n\t\t},\r\n\r\n\t\tload() {\r\n\t\t\treturn this.$apollo\r\n\t\t\t\t.query({\r\n\t\t\t\t\tquery: gql`\r\n\t\t\t\t\t\tquery($id: ID!) {\r\n\t\t\t\t\t\t\tcarCategory(id: $id) {\r\n\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t\tname\r\n\t\t\t\t\t\t\t\tslug\r\n\t\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t\t\ttype\r\n\t\t\t\t\t\t\t\t\tfilename\r\n\t\t\t\t\t\t\t\t\turl\r\n\t\t\t\t\t\t\t\t\turlThumb\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdataSheet {\r\n\t\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t\t\ttype\r\n\t\t\t\t\t\t\t\t\tfilename\r\n\t\t\t\t\t\t\t\t\turl\r\n\t\t\t\t\t\t\t\t\turlThumb\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\timageMain {\r\n\t\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t\t\ttype\r\n\t\t\t\t\t\t\t\t\tfilename\r\n\t\t\t\t\t\t\t\t\turl\r\n\t\t\t\t\t\t\t\t\turlThumb\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tgallery {\r\n\t\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t\t\ttype\r\n\t\t\t\t\t\t\t\t\tfilename\r\n\t\t\t\t\t\t\t\t\turl\r\n\t\t\t\t\t\t\t\t\turlThumb\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\timages {\r\n\t\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t\t\ttitle\r\n\t\t\t\t\t\t\t\t\tbody\r\n\t\t\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t\t\t\ttype\r\n\t\t\t\t\t\t\t\t\t\tfilename\r\n\t\t\t\t\t\t\t\t\t\turl\r\n\t\t\t\t\t\t\t\t\t\turlThumb\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdetailTitle\r\n\t\t\t\t\t\t\t\tintro\r\n\t\t\t\t\t\t\t\tdetail\r\n\t\t\t\t\t\t\t\tfeatured\r\n\t\t\t\t\t\t\t\tfeaturedDetail\r\n\t\t\t\t\t\t\t\tprice\r\n\t\t\t\t\t\t\t\tpropAirConditioner\r\n\t\t\t\t\t\t\t\tpropPassengers\r\n\t\t\t\t\t\t\t\tpropDoors\r\n\t\t\t\t\t\t\t\tpropLuggages\r\n\t\t\t\t\t\t\t\tpropHandLuggages\r\n\t\t\t\t\t\t\t\tpropTransmission\r\n\t\t\t\t\t\t\t\tpropFuel\r\n\t\t\t\t\t\t\t\tstatus\r\n\t\t\t\t\t\t\t\tstatusText\r\n\t\t\t\t\t\t\t\tstatusClass\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t`,\r\n\t\t\t\t\tvariables: { id: this.$route.params.id },\r\n\t\t\t\t\tfetchPolicy: 'network-only',\r\n\t\t\t\t})\r\n\t\t\t\t.then(({ data }) => {\r\n\t\t\t\t\tthis.form = data.carCategory\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tthis.$toast.success('El item que desea editar no existe')\r\n\t\t\t\t\tthis.$router.go(-1)\r\n\t\t\t\t})\r\n\t\t},\r\n\r\n\t\tdeletePrompt(item) {\r\n\t\t\tthis.$dialog\r\n\t\t\t\t.confirm(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: 'Eliminar categoría',\r\n\t\t\t\t\t\tbody: `¿Está seguro que desea eliminar la categoría \"<strong>${item.name}\"</strong>?`,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tokText: 'Eliminar',\r\n\t\t\t\t\t\tcustomClass: 'delete-prompt',\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.delete(item)\r\n\t\t\t\t})\r\n\t\t},\r\n\r\n\t\tdelete(item) {\r\n\t\t\titem.loading = true\r\n\t\t\tthis.$apollo\r\n\t\t\t\t.mutate({\r\n\t\t\t\t\tmutation: gql`\r\n\t\t\t\t\t\tmutation($id: ID!) {\r\n\t\t\t\t\t\t\tcarCategoryDelete(id: $id) {\r\n\t\t\t\t\t\t\t\tid\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t`,\r\n\t\t\t\t\tvariables: {\r\n\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.$toast.success('Categoría eliminada correctamente')\r\n\t\t\t\t\tthis.load()\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tthis.errors = this.parseGQLErrors(error)\r\n\t\t\t\t\titem.loading = false\r\n\t\t\t\t})\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CategoryForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CategoryForm.vue?vue&type=template&id=494092c1&\"\nimport script from \"./CategoryForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CategoryForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import Vue from 'vue'\r\nexport default Vue.mixin({\r\n    data: function () {\r\n        return {\r\n            saving: false\r\n        }\r\n    },\r\n    methods: {\r\n        // convierto array al formato de select de vueformulate select\r\n        // covertArrayToSelectableObject(items){\r\n\t\t// \tvar results = {}\r\n\t\t// \titems.forEach( item =>{\r\n\t\t// \t\tresults[`${item.id}`] = item.name\r\n\t\t// \t})\r\n\t\t// \treturn results\r\n        // },\r\n        covertArrayToSelectableObject(items){\r\n            var results = []\r\n            for (const item of items){\r\n                results.push({ value: item.id, label: item.name })\r\n\t\t\t}\r\n\t\t\treturn results\r\n        },\r\n        \r\n    }\r\n})\r\n"],"sourceRoot":""}