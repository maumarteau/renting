(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5fa73a23"],{1269:function(t,e,a){},2266:function(t,e,a){var n=a("825a"),r=a("e95a"),i=a("50c4"),s=a("0366"),o=a("35a1"),l=a("9bdd"),c=function(t,e){this.stopped=t,this.result=e},u=t.exports=function(t,e,a,u,f){var d,h,g,p,m,v,b,y=s(e,a,u?2:1);if(f)d=t;else{if(h=o(t),"function"!=typeof h)throw TypeError("Target is not iterable");if(r(h)){for(g=0,p=i(t.length);p>g;g++)if(m=u?y(n(b=t[g])[0],b[1]):y(t[g]),m&&m instanceof c)return m;return new c(!1)}d=h.call(t)}v=d.next;while(!(b=v.call(d)).done)if(m=l(d,y,b.value,u),"object"==typeof m&&m&&m instanceof c)return m;return new c(!1)};u.stop=function(t){return new c(!0,t)}},"4fad":function(t,e,a){var n=a("23e7"),r=a("6f53").entries;n({target:"Object",stat:!0},{entries:function(t){return r(t)}})},"56e2":function(t,e,a){"use strict";a("65f4")},"65f4":function(t,e,a){},"6f53":function(t,e,a){var n=a("83ab"),r=a("df75"),i=a("fc6a"),s=a("d1e7").f,o=function(t){return function(e){var a,o=i(e),l=r(o),c=l.length,u=0,f=[];while(c>u)a=l[u++],n&&!s.call(o,a)||f.push(t?[a,o[a]]:o[a]);return f}};t.exports={entries:o(!0),values:o(!1)}},"9f12":function(t,e,a){"use strict";function n(t){if(Array.isArray(t))return t}a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");function r(t,e){var a=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=a){var n,r,i=[],s=!0,o=!1;try{for(a=a.call(t);!(s=(n=a.next()).done);s=!0)if(i.push(n.value),e&&i.length===e)break}catch(l){o=!0,r=l}finally{try{s||null==a["return"]||a["return"]()}finally{if(o)throw r}}return i}}var i=a("06c5");function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){return n(t)||r(t,e)||Object(i["a"])(t,e)||s()}a("159b"),a("b64b"),a("4de4"),a("ac1f"),a("5319"),a("c1f9"),a("4fad");var l=a("2b0e");e["a"]=l["default"].mixin({data:function(){return{pagination:{page:1,length:15,pageInfo:{totalItems:0}}}},methods:{getValidUrlParams:function(){var t=this.$route.query;t.page&&(this.pagination.page=t.page,this.pagination.skip=(t.page-1)*this.pagination.length,delete t.page),t.length&&(this.pagination.length=parseInt(t.length)),t.startDate&&(t.startDate=this.$moment(t.startDate).format("YYYY-MM-DD 00:00:00")),t.endDate&&(t.endDate=this.$moment(t.endDate).format("YYYY-MM-DD 23:59:59"));var e={};return Object.keys(t).forEach((function(a){var n=t[a];Array.isArray(n)&&(n=n.filter(Boolean)),""!=n&&null!=n&&n.length>0&&(e[a]=n)})),e},cleanFilters:function(){var t=this.filters,e={};return Object.keys(t).forEach((function(a){var n=t[a];""!=n&&(e[a]=n)})),e},pageChange:function(t){console.log(t);var e=this.getValidUrlParams();e.page=t+1,this.$router.replace({query:e})},pageLength:function(t){var e=this.getValidUrlParams();e.page=1,e.length=t,this.$router.replace({query:e})},selectedDateRangeFilter:function(t){t.startDate?this.filters.startDate=this.$moment(t.startDate).format("YYYY-MM-DD"):this.filters.startDate=null,t.endDate?this.filters.endDate=this.$moment(t.endDate).format("YYYY-MM-DD"):this.filters.endDate=null,this.updateFilters()},updateFilters:function(){var t=this.cleanFilters();t.startDate&&(t.startDate=this.$moment(t.startDate).format("YYYY-MM-DD")),t.endDate&&(t.endDate=this.$moment(t.endDate).format("YYYY-MM-DD")),t=Object.fromEntries(Object.entries(t).filter((function(t){var e=o(t,2),a=(e[0],e[1]);return null!=a}))),delete this.filters.page,this.$router.replace({query:t})}}})},c1f9:function(t,e,a){var n=a("23e7"),r=a("2266"),i=a("8418");n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return r(t,(function(t,a){i(e,t,a)}),void 0,!0),e}})},e2d5:function(t,e,a){"use strict";a.r(e);var n,r,i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",{attrs:{loading:t.loading,pageTitle:"Flota"},scopedSlots:t._u([{key:"breadcrumb",fn:function(){return[a("Breadcrumb")]},proxy:!0},{key:"cta",fn:function(){return[a("router-link",{staticClass:"btn btn-success",attrs:{tag:"a",to:"/categories/create"}},[t._v("Crear vehículo")])]},proxy:!0}])},[a("div",{staticClass:"main-container container-fluid"},[a("div",{staticClass:"card mt-2"},[a("div",{staticClass:"card-body"},[a("draggable",{staticClass:"table table-clickeable",attrs:{tag:"table",handle:".handle","ghost-class":"ghost"},on:{change:t.sorted},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},[a("tr",{staticClass:"table-head",attrs:{slot:"header"},slot:"header"},[a("td",{attrs:{width:"36"}}),a("td",[t._v("Vehículo")]),a("td",[t._v("Precio")]),a("td")]),t._l(t.list,(function(e,n){return a("router-link",{key:n,attrs:{tag:"tr",to:t.$route.path+"/"+e.id}},[a("td",[a("div",{staticClass:"handle"},[a("i",{staticClass:"icon icon-arrow-combo text-secondary"})])]),a("td",[a("div",{staticClass:"d-flex"},[e.featured?a("i",{staticClass:"icon icon-star mr-2"}):a("i",{staticClass:"icon icon-star text-secondary mr-2"}),t._v(" "+t._s(e.name)+" ")])]),a("td",{staticClass:"text-right"},[e.price>0?a("div",[t._v(" Desde U$S "+t._s(e.price)+" ")]):t._e()]),a("td",[a("span",{staticClass:"d-flex"},[a("i",{staticClass:"dot mt-1 mr-1",class:"dot-"+e.statusClass}),a("span",[t._v(t._s(e.statusText))])])])])}))],2),0==t.list.length?a("div",{staticClass:"alert alert-info text-center"},[t._v(" No se han encontrado vehículos ")]):t._e(),a("Pagination",{attrs:{pageData:t.pagination},on:{pageChange:t.pageChange,pageLength:t.pageLength}})],1)])])])},s=[],o=a("8785"),l=(a("d81d"),a("9530")),c=a.n(l),u=a("9f12"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("fragment",[a("router-link",{staticClass:"breadcrumb-item",attrs:{tag:"li",to:"/"}},[a("i",{staticClass:"icon icon-home-1"})])],1)},d=[],h=(a("3f08"),{}),g=h,p=(a("56e2"),a("2877")),m=Object(p["a"])(g,f,d,!1,null,"474faee1",null),v=m.exports,b={name:"CarCategories",components:{Breadcrumb:v},mixins:[u["a"]],data:function(){return{list:[],loading:!1}},beforeMount:function(){this.filters=this.getValidUrlParams(),this.load()},methods:{load:function(){var t=this;this.loading=!0,this.$apollo.query({query:c()(n||(n=Object(o["a"])(["\n\t\t\t\t\t\tquery($take: Int, $skip: Int) {\n\t\t\t\t\t\t\tcarCategories(take: $take, skip: $skip) {\n\t\t\t\t\t\t\t\tdata {\n\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\tfeatured\n\t\t\t\t\t\t\t\t\tprice\n\t\t\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t\t\torder\n\t\t\t\t\t\t\t\t\tstatus\n\t\t\t\t\t\t\t\t\tstatusText\n\t\t\t\t\t\t\t\t\tstatusClass\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tpageInfo {\n\t\t\t\t\t\t\t\t\ttotalItems\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t"]))),variables:{take:this.pagination.length,skip:this.pagination.skip},fetchPolicy:"network-only"}).then((function(e){t.list=e.data.carCategories.data,t.pagination.pageInfo=e.data.carCategories.pageInfo,t.loading=!1}))},sorted:function(t){var e=this;if(t.moved){var a=Math.max.apply(Math,this.list.map((function(t){return t.order})));this.list.map((function(t){t.order=a,a-=1}));var n=this.list.map((function(t){return{id:t.id,order:t.order}}));return console.log(n),this.$apollo.mutate({mutation:c()(r||(r=Object(o["a"])(["\n\t\t\t\t\t\t\tmutation($list: [OrderList]!) {\n\t\t\t\t\t\t\t\tcarCategorySort(list: $list)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t"]))),variables:{list:n}}).then((function(){e.$toast.success("Listado actualizado")})).catch((function(t){e.parseGQLErrors(t)}))}}}},y=b,D=(a("f973"),Object(p["a"])(y,i,s,!1,null,null,null));e["default"]=D.exports},f973:function(t,e,a){"use strict";a("1269")}}]);
//# sourceMappingURL=chunk-5fa73a23.ae21daa7.js.map