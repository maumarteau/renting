{"version":3,"sources":["webpack:///./src/mixins/mixins.js","webpack:///./src/views/products/ProductDetail.vue?5ecd","webpack:///src/views/products/ProductDetail.vue","webpack:///./src/views/products/ProductDetail.vue?f5b5","webpack:///./src/views/products/ProductDetail.vue","webpack:///./src/views/products/ProductDetail.vue?078a","webpack:///./src/views/products/Breadcrumb.vue?8df5","webpack:///src/views/products/Breadcrumb.vue","webpack:///./src/views/products/Breadcrumb.vue?4272","webpack:///./src/views/products/Breadcrumb.vue"],"names":["Vue","mixin","data","API_URL","process","methods","parseGQLErrors","error","errorMessage","graphQLErrors","message","networkError","result","errors","this","$toast","render","_vm","_h","$createElement","_c","_self","attrs","loading","item","title","scopedSlots","_u","key","fn","proxy","staticClass","class","_v","_s","statusText","on","$event","toggleStatus","status","deletePrompt","files","length","_l","file","id","urlThumb","staticStyle","slug","price","toLocaleString","brand","_e","model","year","mileage","getFuelLabel","fuel","getTransmissionLabel","transmission","color","domProps","description","formatDate","createdAt","updatedAt","staticRenderFns","component","$route","name"],"mappings":"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","file":"js/ProductDetail.25e54bff.js","sourcesContent":["import Vue from 'vue'\n\n// defino variables y funciones globales\nexport default Vue.mixin({\n    data() {\n        return{\n            API_URL: process.env.VUE_APP_API_URL || 'http://localhost:3000',\n        }\n    },\n    methods: {\n        \n        parseGQLErrors (error) {\n            let errorMessage\n            \n            if(error.graphQLErrors){\n                errorMessage = error.graphQLErrors[0] ? error.graphQLErrors[0].message : null\n            }\n            \n            if(error.networkError && !errorMessage){\n                errorMessage = error.networkError.result.errors[0] ? error.networkError.result.errors[0].message : null\n            }\n\n            if(error.message && !errorMessage){\n                errorMessage = error.message\n            }\n\n            if(!errorMessage){\n                errorMessage = 'Ha ocurrido un error'\n            }\n            this.$toast.error(errorMessage)\n            return errorMessage\n        },\n    }\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',{attrs:{\"loading\":_vm.loading,\"pageTitle\":_vm.item ? _vm.item.title : 'Detalle del vehículo'},scopedSlots:_vm._u([{key:\"breadcrumb\",fn:function(){return [_c('Breadcrumb')]},proxy:true},{key:\"cta\",fn:function(){return [_c('div',{staticClass:\"d-flex align-items-center\"},[_c('span',{staticClass:\"d-flex mr-3\"},[_c('i',{staticClass:\"dot mt-1 mr-1\",class:(\"dot-\" + (_vm.item.statusClass))}),_c('span',[_vm._v(_vm._s(_vm.item.statusText))])]),_c('router-link',{staticClass:\"btn btn-primary mr-2\",attrs:{\"to\":(\"/products/\" + (_vm.item.id) + \"/edit\")}},[_c('i',{staticClass:\"icon icon-edit mr-1\"}),_vm._v(\" Editar \")]),_c('b-dropdown',{staticClass:\"dropdown-dots\",attrs:{\"no-caret\":\"\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('i',{staticClass:\"icon icon-dot-3\"})]},proxy:true}])},[_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.toggleStatus()}}},[(_vm.item.status == 'INACTIVE')?_c('span',[_vm._v(\"Activar\")]):(_vm.item.status == 'ACTIVE')?_c('span',[_vm._v(\"Marcar como vendido\")]):_c('span',[_vm._v(\"Activar\")])]),_c('b-dropdown-item',{staticClass:\"delete-item\",on:{\"click\":function($event){return _vm.deletePrompt(_vm.item)}}},[_c('i',{staticClass:\"icon icon-trashcan\"}),_vm._v(\" Eliminar \")])],1)],1)]},proxy:true}])},[(!_vm.loading && _vm.item)?_c('div',{staticClass:\"main-container container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-lg-8\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\"Galería de fotos\")])]),_c('div',{staticClass:\"card-body\"},[(_vm.item.files && _vm.item.files.length > 0)?_c('div',{staticClass:\"row\"},_vm._l((_vm.item.files),function(file){return _c('div',{key:file.id,staticClass:\"col-6 col-md-4 col-lg-3 mb-3\"},[_c('div',{staticClass:\"photo-thumbnail\"},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":file.urlThumb,\"alt\":_vm.item.title}})])])}),0):_c('div',{staticClass:\"text-center text-muted py-4\"},[_c('i',{staticClass:\"icon icon-image\",staticStyle:{\"font-size\":\"48px\"}}),_c('p',{staticClass:\"mt-2\"},[_vm._v(\"No hay fotos disponibles\")])])])])]),_c('div',{staticClass:\"col-12 col-lg-4\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\"Información del vehículo\")])]),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"info-item mb-3\"},[_c('label',{staticClass:\"text-muted small\"},[_vm._v(\"Título\")]),_c('div',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.item.title))])]),_c('div',{staticClass:\"info-item mb-3\"},[_c('label',{staticClass:\"text-muted small\"},[_vm._v(\"Slug\")]),_c('div',{staticClass:\"font-monospace small\"},[_vm._v(_vm._s(_vm.item.slug))])]),_c('div',{staticClass:\"info-item mb-3\"},[_c('label',{staticClass:\"text-muted small\"},[_vm._v(\"Precio\")]),_c('div',{staticClass:\"font-weight-bold text-success\"},[_vm._v(\" U$S \"+_vm._s(_vm.item.price ? _vm.item.price.toLocaleString() : '0')+\" \")])]),(_vm.item.brand)?_c('div',{staticClass:\"info-item mb-3\"},[_c('label',{staticClass:\"text-muted small\"},[_vm._v(\"Marca\")]),_c('div',[_vm._v(_vm._s(_vm.item.brand))])]):_vm._e(),(_vm.item.model)?_c('div',{staticClass:\"info-item mb-3\"},[_c('label',{staticClass:\"text-muted small\"},[_vm._v(\"Modelo\")]),_c('div',[_vm._v(_vm._s(_vm.item.model))])]):_vm._e(),(_vm.item.year)?_c('div',{staticClass:\"info-item mb-3\"},[_c('label',{staticClass:\"text-muted small\"},[_vm._v(\"Año\")]),_c('div',[_vm._v(_vm._s(_vm.item.year))])]):_vm._e(),(_vm.item.mileage)?_c('div',{staticClass:\"info-item mb-3\"},[_c('label',{staticClass:\"text-muted small\"},[_vm._v(\"Kilometraje\")]),_c('div',[_vm._v(_vm._s(_vm.item.mileage))])]):_vm._e(),(_vm.item.fuel)?_c('div',{staticClass:\"info-item mb-3\"},[_c('label',{staticClass:\"text-muted small\"},[_vm._v(\"Combustible\")]),_c('div',[_vm._v(_vm._s(_vm.getFuelLabel(_vm.item.fuel)))])]):_vm._e(),(_vm.item.transmission)?_c('div',{staticClass:\"info-item mb-3\"},[_c('label',{staticClass:\"text-muted small\"},[_vm._v(\"Transmisión\")]),_c('div',[_vm._v(_vm._s(_vm.getTransmissionLabel(_vm.item.transmission)))])]):_vm._e(),(_vm.item.color)?_c('div',{staticClass:\"info-item mb-3\"},[_c('label',{staticClass:\"text-muted small\"},[_vm._v(\"Color\")]),_c('div',[_vm._v(_vm._s(_vm.item.color))])]):_vm._e()])])])]),(_vm.item.description)?_c('div',{staticClass:\"row mt-4\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\"Descripción\")])]),_c('div',{staticClass:\"card-body\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.item.description)}})])])])]):_vm._e(),_c('div',{staticClass:\"row mt-4\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('h5',{staticClass:\"mb-0\"},[_vm._v(\"Información adicional\")])]),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"info-item mb-3\"},[_c('label',{staticClass:\"text-muted small\"},[_vm._v(\"Fecha de creación\")]),_c('div',[_vm._v(_vm._s(_vm.formatDate(_vm.item.createdAt)))])])]),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"info-item mb-3\"},[_c('label',{staticClass:\"text-muted small\"},[_vm._v(\"Última actualización\")]),_c('div',[_vm._v(_vm._s(_vm.formatDate(_vm.item.updatedAt)))])])])])])])])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<Layout :loading=\"loading\" :pageTitle=\"item ? item.title : 'Detalle del vehículo'\">\n\t\t<template #breadcrumb>\n\t\t\t<Breadcrumb />\n\t\t</template>\n\n\t\t<template #cta>\n\t\t\t<div class=\"d-flex align-items-center\">\n\t\t\t\t<span class=\"d-flex mr-3\">\n\t\t\t\t\t<i\n\t\t\t\t\t\tclass=\"dot mt-1 mr-1\"\n\t\t\t\t\t\t:class=\"`dot-${item.statusClass}`\"\n\t\t\t\t\t></i>\n\t\t\t\t\t<span>{{ item.statusText }}</span>\n\t\t\t\t</span>\n\t\t\t\t<router-link\n\t\t\t\t\t:to=\"`/products/${item.id}/edit`\"\n\t\t\t\t\tclass=\"btn btn-primary mr-2\"\n\t\t\t\t>\n\t\t\t\t\t<i class=\"icon icon-edit mr-1\"></i>\n\t\t\t\t\tEditar\n\t\t\t\t</router-link>\n\t\t\t\t<b-dropdown no-caret right class=\"dropdown-dots\">\n\t\t\t\t\t<template v-slot:button-content><i class=\"icon icon-dot-3\"></i></template>\n\t\t\t\t\t<b-dropdown-item @click=\"toggleStatus()\">\n\t\t\t\t\t\t<span v-if=\"item.status == 'INACTIVE'\">Activar</span>\n\t\t\t\t\t\t<span v-else-if=\"item.status == 'ACTIVE'\">Marcar como vendido</span>\n\t\t\t\t\t\t<span v-else>Activar</span>\n\t\t\t\t\t</b-dropdown-item>\n\t\t\t\t\t<b-dropdown-item @click=\"deletePrompt(item)\" class=\"delete-item\">\n\t\t\t\t\t\t<i class=\"icon icon-trashcan\"></i> Eliminar\n\t\t\t\t\t</b-dropdown-item>\n\t\t\t\t</b-dropdown>\n\t\t\t</div>\n\t\t</template>\n\n\t\t<div class=\"main-container container-fluid\" v-if=\"!loading && item\">\n\t\t\t<div class=\"row\">\n\t\t\t\t<!-- Galería de fotos -->\n\t\t\t\t<div class=\"col-12 col-lg-8\">\n\t\t\t\t\t<div class=\"card\">\n\t\t\t\t\t\t<div class=\"card-header\">\n\t\t\t\t\t\t\t<h5 class=\"mb-0\">Galería de fotos</h5>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t\t<div class=\"row\" v-if=\"item.files && item.files.length > 0\">\n\t\t\t\t\t\t\t\t<div class=\"col-6 col-md-4 col-lg-3 mb-3\" v-for=\"file in item.files\" :key=\"file.id\">\n\t\t\t\t\t\t\t\t\t<div class=\"photo-thumbnail\">\n\t\t\t\t\t\t\t\t\t\t<img :src=\"file.urlThumb\" :alt=\"item.title\" class=\"img-fluid\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-else class=\"text-center text-muted py-4\">\n\t\t\t\t\t\t\t\t<i class=\"icon icon-image\" style=\"font-size: 48px;\"></i>\n\t\t\t\t\t\t\t\t<p class=\"mt-2\">No hay fotos disponibles</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Información del vehículo -->\n\t\t\t\t<div class=\"col-12 col-lg-4\">\n\t\t\t\t\t<div class=\"card\">\n\t\t\t\t\t\t<div class=\"card-header\">\n\t\t\t\t\t\t\t<h5 class=\"mb-0\">Información del vehículo</h5>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t\t<div class=\"info-item mb-3\">\n\t\t\t\t\t\t\t\t<label class=\"text-muted small\">Título</label>\n\t\t\t\t\t\t\t\t<div class=\"font-weight-bold\">{{ item.title }}</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"info-item mb-3\">\n\t\t\t\t\t\t\t\t<label class=\"text-muted small\">Slug</label>\n\t\t\t\t\t\t\t\t<div class=\"font-monospace small\">{{ item.slug }}</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"info-item mb-3\">\n\t\t\t\t\t\t\t\t<label class=\"text-muted small\">Precio</label>\n\t\t\t\t\t\t\t\t<div class=\"font-weight-bold text-success\">\n\t\t\t\t\t\t\t\t\tU$S {{ item.price ? item.price.toLocaleString() : '0' }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"info-item mb-3\" v-if=\"item.brand\">\n\t\t\t\t\t\t\t\t<label class=\"text-muted small\">Marca</label>\n\t\t\t\t\t\t\t\t<div>{{ item.brand }}</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"info-item mb-3\" v-if=\"item.model\">\n\t\t\t\t\t\t\t\t<label class=\"text-muted small\">Modelo</label>\n\t\t\t\t\t\t\t\t<div>{{ item.model }}</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"info-item mb-3\" v-if=\"item.year\">\n\t\t\t\t\t\t\t\t<label class=\"text-muted small\">Año</label>\n\t\t\t\t\t\t\t\t<div>{{ item.year }}</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"info-item mb-3\" v-if=\"item.mileage\">\n\t\t\t\t\t\t\t\t<label class=\"text-muted small\">Kilometraje</label>\n\t\t\t\t\t\t\t\t<div>{{ item.mileage }}</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"info-item mb-3\" v-if=\"item.fuel\">\n\t\t\t\t\t\t\t\t<label class=\"text-muted small\">Combustible</label>\n\t\t\t\t\t\t\t\t<div>{{ getFuelLabel(item.fuel) }}</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"info-item mb-3\" v-if=\"item.transmission\">\n\t\t\t\t\t\t\t\t<label class=\"text-muted small\">Transmisión</label>\n\t\t\t\t\t\t\t\t<div>{{ getTransmissionLabel(item.transmission) }}</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"info-item mb-3\" v-if=\"item.color\">\n\t\t\t\t\t\t\t\t<label class=\"text-muted small\">Color</label>\n\t\t\t\t\t\t\t\t<div>{{ item.color }}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- Descripción -->\n\t\t\t<div class=\"row mt-4\" v-if=\"item.description\">\n\t\t\t\t<div class=\"col-12\">\n\t\t\t\t\t<div class=\"card\">\n\t\t\t\t\t\t<div class=\"card-header\">\n\t\t\t\t\t\t\t<h5 class=\"mb-0\">Descripción</h5>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t\t<div v-html=\"item.description\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<!-- Información adicional -->\n\t\t\t<div class=\"row mt-4\">\n\t\t\t\t<div class=\"col-12\">\n\t\t\t\t\t<div class=\"card\">\n\t\t\t\t\t\t<div class=\"card-header\">\n\t\t\t\t\t\t\t<h5 class=\"mb-0\">Información adicional</h5>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t\t\t\t\t<div class=\"info-item mb-3\">\n\t\t\t\t\t\t\t\t\t\t<label class=\"text-muted small\">Fecha de creación</label>\n\t\t\t\t\t\t\t\t\t\t<div>{{ formatDate(item.createdAt) }}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t\t\t\t\t<div class=\"info-item mb-3\">\n\t\t\t\t\t\t\t\t\t\t<label class=\"text-muted small\">Última actualización</label>\n\t\t\t\t\t\t\t\t\t\t<div>{{ formatDate(item.updatedAt) }}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</Layout>\n</template>\n\n<script>\nimport gql from 'graphql-tag'\nimport mixins from '@/mixins/mixins'\nimport Breadcrumb from './Breadcrumb'\n\nexport default {\n\tname: 'ProductDetail',\n\tcomponents: {\n\t\tBreadcrumb,\n\t},\n\tmixins: [mixins],\n\tdata() {\n\t\treturn {\n\t\t\titem: null,\n\t\t\tloading: true,\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis.load()\n\t},\n\tmethods: {\n\t\tload() {\n\t\t\tthis.loading = true\n\t\t\tthis.$apollo\n\t\t\t\t.query({\n\t\t\t\t\tquery: gql`\n\t\t\t\t\t\tquery($id: ID!) {\n\t\t\t\t\t\t\tproduct(id: $id) {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\tslug\n\t\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t\t\tprice\n\t\t\t\t\t\t\t\tfiles {\n\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\ttype\n\t\t\t\t\t\t\t\t\tfilename\n\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t\turlThumb\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbrand\n\t\t\t\t\t\t\t\tmodel\n\t\t\t\t\t\t\t\tyear\n\t\t\t\t\t\t\t\tmileage\n\t\t\t\t\t\t\t\tfuel\n\t\t\t\t\t\t\t\ttransmission\n\t\t\t\t\t\t\t\tcolor\n\t\t\t\t\t\t\t\tstatus\n\t\t\t\t\t\t\t\tstatusText\n\t\t\t\t\t\t\t\tstatusClass\n\t\t\t\t\t\t\t\tcreatedAt\n\t\t\t\t\t\t\t\tupdatedAt\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t`,\n\t\t\t\t\tvariables: { id: this.$route.params.id },\n\t\t\t\t\tfetchPolicy: 'network-only',\n\t\t\t\t})\n\t\t\t\t.then(({ data }) => {\n\t\t\t\t\tthis.item = data.product\n\t\t\t\t\tthis.loading = false\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.$toast.error('El vehículo no existe')\n\t\t\t\t\tthis.$router.push('/products')\n\t\t\t\t})\n\t\t},\n\t\ttoggleStatus() {\n\t\t\tlet newStatus = 'ACTIVE'\n\t\t\tif (this.item.status === 'ACTIVE') {\n\t\t\t\tnewStatus = 'SOLD'\n\t\t\t} else if (this.item.status === 'SOLD') {\n\t\t\t\tnewStatus = 'ACTIVE'\n\t\t\t}\n\n\t\t\tthis.$apollo\n\t\t\t\t.mutate({\n\t\t\t\t\tmutation: gql`\n\t\t\t\t\t\tmutation($id: ID!, $status: String!) {\n\t\t\t\t\t\t\tproductToggleStatus(id: $id, status: $status) {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tstatus\n\t\t\t\t\t\t\t\tstatusText\n\t\t\t\t\t\t\t\tstatusClass\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t`,\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tid: this.item.id,\n\t\t\t\t\t\tstatus: newStatus,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t.then(({ data }) => {\n\t\t\t\t\tthis.item.status = data.productToggleStatus.status\n\t\t\t\t\tthis.item.statusText = data.productToggleStatus.statusText\n\t\t\t\t\tthis.item.statusClass = data.productToggleStatus.statusClass\n\t\t\t\t\tthis.$toast.success('Estado actualizado correctamente')\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tthis.parseGQLErrors(error)\n\t\t\t\t})\n\t\t},\n\t\tdeletePrompt(item) {\n\t\t\tthis.$dialog\n\t\t\t\t.confirm(\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: 'Eliminar vehículo',\n\t\t\t\t\t\tbody: `¿Está seguro que desea eliminar el vehículo \"<strong>${item.title}</strong>\"?`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tokText: 'Eliminar',\n\t\t\t\t\t\tcustomClass: 'delete-prompt',\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.delete(item)\n\t\t\t\t})\n\t\t},\n\t\tdelete(item) {\n\t\t\tthis.$apollo\n\t\t\t\t.mutate({\n\t\t\t\t\tmutation: gql`\n\t\t\t\t\t\tmutation($id: ID!) {\n\t\t\t\t\t\t\tproductDelete(id: $id) {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t`,\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tid: item.id,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$toast.success('Vehículo eliminado correctamente')\n\t\t\t\t\tthis.$router.push('/products')\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tthis.parseGQLErrors(error)\n\t\t\t\t})\n\t\t},\n\t\tgetFuelLabel(fuel) {\n\t\t\tconst labels = {\n\t\t\t\tgasoline: 'Nafta',\n\t\t\t\tdiesel: 'Gasoil',\n\t\t\t\thybrid: 'Híbrido',\n\t\t\t\telectric: 'Eléctrico',\n\t\t\t}\n\t\t\treturn labels[fuel] || fuel\n\t\t},\n\t\tgetTransmissionLabel(transmission) {\n\t\t\tconst labels = {\n\t\t\t\tmanual: 'Manual',\n\t\t\t\tautomatic: 'Automática',\n\t\t\t}\n\t\t\treturn labels[transmission] || transmission\n\t\t},\n\t\tformatDate(dateString) {\n\t\t\tif (!dateString) return '-'\n\t\t\treturn new Date(dateString).toLocaleDateString('es-ES', {\n\t\t\t\tyear: 'numeric',\n\t\t\t\tmonth: 'long',\n\t\t\t\tday: 'numeric',\n\t\t\t\thour: '2-digit',\n\t\t\t\tminute: '2-digit',\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.photo-thumbnail {\n\tborder: 1px solid #dee2e6;\n\tborder-radius: 4px;\n\toverflow: hidden;\n\theight: 150px;\n}\n\n.photo-thumbnail img {\n\twidth: 100%;\n\theight: 100%;\n\tobject-fit: cover;\n}\n\n.info-item label {\n\tdisplay: block;\n\tmargin-bottom: 4px;\n}\n\n.font-monospace {\n\tfont-family: 'Courier New', monospace;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductDetail.vue?vue&type=template&id=390c98e3&scoped=true&\"\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductDetail.vue?vue&type=style&index=0&id=390c98e3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"390c98e3\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductDetail.vue?vue&type=style&index=0&id=390c98e3&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-link',{staticClass:\"breadcrumb-item\",attrs:{\"tag\":\"li\",\"to\":\"/\"}},[_c('i',{staticClass:\"icon icon-home-1\"})]),_c('router-link',{staticClass:\"breadcrumb-item\",attrs:{\"tag\":\"li\",\"to\":\"/products\"}},[_vm._v(\" Vehículos usados \")]),(_vm.$route.name == 'ProductCreate')?_c('li',{staticClass:\"breadcrumb-item active\"},[_vm._v(\" Crear \")]):_vm._e(),(_vm.$route.name == 'ProductEdit')?_c('li',{staticClass:\"breadcrumb-item active\"},[_vm._v(\" Editar \")]):_vm._e(),(_vm.$route.name == 'ProductDetail')?_c('li',{staticClass:\"breadcrumb-item active\"},[_vm._v(\" Detalle \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div>\n\t\t<router-link tag=\"li\" to=\"/\" class=\"breadcrumb-item\">\n\t\t\t<i class=\"icon icon-home-1\"></i>\n\t\t</router-link>\n\t\t<router-link tag=\"li\" to=\"/products\" class=\"breadcrumb-item\">\n\t\t\tVehículos usados\n\t\t</router-link>\n\t\t<li class=\"breadcrumb-item active\" v-if=\"$route.name == 'ProductCreate'\">\n\t\t\tCrear\n\t\t</li>\n\t\t<li class=\"breadcrumb-item active\" v-if=\"$route.name == 'ProductEdit'\">\n\t\t\tEditar\n\t\t</li>\n\t\t<li class=\"breadcrumb-item active\" v-if=\"$route.name == 'ProductDetail'\">\n\t\t\tDetalle\n\t\t</li>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: 'ProductBreadcrumb',\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Breadcrumb.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Breadcrumb.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Breadcrumb.vue?vue&type=template&id=71f7debd&\"\nimport script from \"./Breadcrumb.vue?vue&type=script&lang=js&\"\nexport * from \"./Breadcrumb.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}